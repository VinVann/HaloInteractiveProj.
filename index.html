<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=2.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
<div style="background-image: url('walls.png');">
    <h1 style="background-color:Tomato;">Halo: Restitution</h1>
<p><font size="3" color="red">Unofficial sequel to the Haloâ„¢ series created by Bungie and 343 Industries</font>
</p>

<div id="story">

</div>
<div>
    <div id = "buttons">
</div>
</div>
<script>
   const story = {
    start : {
        text : "Jet wakes up in his country home, surrounded by fields of wheat and dirt roads. He looks around his room and is delighted by the sunlight creeping into his room",
        choices : [
            ["section5","Check outside"],
            ["section8","Make breakfast"],
            ["section12","Go back to sleep"]
        ]
    },
    section5 : {
        text : "Jet notices a flood spore and locks the doors and windows",
        choices : [
            ["section15","Find the garage door"],
            ["section15","Double check the doors and windows to make sure they are locked"]
        ]
    },
    section8 : {
        text : "Single flood spore makes it into home due to time wasted, Jet injured trying to escape; spore killed",
        choices : [
            ["section15","Finds something to patch himself up"],
            ["section19","Holds his wound"],
            ["section22","Stay on the ground in pain"]
        ]
    },
    section12 : {
        text : "Jet is overrun by unseen flood spores, manages to escape, but no access to armor or transportation",
        choices : [
            ["section24","Find somewhere to hide"],
            ["section26","Run outside "]
        ]
    },
    section15 : {
        text : "He finds the garage door after searching for it, but it's locked by a 3-digit padlock. Jet needs to enter a code",
        choices : [
            ["section27","Enter '117'"],
            ["section30","Enter '255'"],
            ["section30","Enter '343'"]
        ]
    },
    section19 : {
        text : "He rips his shirt to make a tourniquet to stop the bleeding",
        choices : [
            ["section38","Call for help on your handheld radio"],
            ["section31","Fight back"]
        ]
    },
    section22 : {
        text : "Jet gets up slowly",
        choices : [
            ["section23","Try to heal wounds"]
        ]
    },
    section24 : {
        text : "He hides in his room and locks the door...\n\nJet calls for an airlift from his house to the city...",
        choices : [
            ["section38","Wait"]
        ]
    },
    section26 : {
        text : "Unaware of the approaching spore mob, Jet gets overrun, killed, and transformed into a lifeless, zombie-like organism\n\nYou have found ending number one, The Tragic Ending. \n\nRefresh browser to restart"
    },
    section23 : {
        text : "Jet faints, and is overrun and killed in his state of unconciousness" 
    }, 
    section27 : {
        text : "CORRECT CODE: Jet enters the garage, closes the door and is safe from the flood",
        choices : [
            ["section34", "Check for armor"],
            ["section37", "Explore under large gray tarp"]
        ]
    },
    section30 : {
        text : "INCORRECT CODE: Entering wrong code lead to horde overtaking Jet, killing him instantly"
    },
    section31 : {
        text : "Overwhelmed by sheer number of spores, Jet is knocked to the gound and is rendered unconscious, which then leaves him vulnerable to attacks, and is killed by the horde\n\nYou have found ending number one, The Scrappy Warrior Ending.\n\nRefresh browser to restart"
    },
    section34 : {
        text : ["He finds a large metal container, and opens it to find a set of advanced Mark V Mjolnir armor, right next to a large item under a tarp"],
        choices :[
            ["section37","Check under the tarp"]
        ]
    },
    section37 : {
        text : ["Jet finds a large Jeep-like vehicle with a full tank of gas and he drives it out of the garage, destroying all flood spores in the way, and safely arrives in the city"],
        choices : [
            ["section39","Enter the city"]
        ]
    },
    section38 : {
        text : ["Jet's cry for help is heard, and in around 25 idle minutes, he is airlifted safely to the main city"],
        choices : [
            ["section39","Enter the city"]
        ]
    },
    section39 : {
        text : ["Jet arrives in the city and with a breath of relief, he gets off the vehicle and touches ground again after a long ride to the metropolis, far from his home, which is now being taken over by the rampant species known as the flood.\n\n'New here?' a large man in a technologically advanced suit exclaimed.\n\n'Yeah... I just got med-evaced from my hous- wait! Are you Sergeant Johnson? You worked with my dad a few years back on installation 04!'\n\nJohnson stops for a second\n\n'Jet? Is that really you? My God you've grown into a fine young man. Boy am I glad we rescued you from that invasion, then, you are a valued member of the UNSC!'\n\nJet listened in awe as the Sergeant went on and on about the team and his father's achievements.\n\nSuddenly, as Jet was listening to this grand story, he overhears a few spartans talking about Jet's father returning to the city, after being lost for 4 years...\n\nThe invasion is not gone, however, Jet needs to take initiative and choose wether or not to look for his father after hearing such rumors of his return, or stick with the team and defend against the invaders..."],
        choices : [
            ["section40","Suit up in better armor, grab weapons, and stick with the team"],
            ["section41","Search for father in hopes of finding him over rumors of his return, spread among the spartans."]
        ]
    },
    section40 : {
        text : ["Jet takes a better suit of armor and grabs a Smg silencer and a sword made of glowing hard light energy\n\nHe ponders for a while after grabbing his gear. 'I could either take this chance to be a part of the team, or run alone, giving myself full responsibility for this mission...'"],
        choices : [
            ["section46","Get in the Scorpion model tank with the team of spartans"],
            ["section49","Take Mongoose ATV, alone..."]
        ]
    },
    section41 : {
        text : ["Jet is confident in his choice, but is not sure as to if he should tell his team where he is going, or to leave them in the dark to find out later..."],
        choices :[
            ["section52","Don't notify them"],
            ["section53","Notify them"]
        ]
    },
    section46 : {
        text : ["The flood spores and even more advanced forms called the 'combat forms' start to flow out of buildings and manhole covers, revealing a true threat to the people of planet Reach.\n\nJohnson shouts to Jet,\n\n'Well boy, what do we do?!'"],
        choices : [
            ["section56","Fight back"],
            ["section57","Retreat"]
        ]
    },
    section49 : {
        text : ["As jet is riding alone, a sense of fear creeps on him...\n\nSuddenly, a small group of the flood spores pounce onto Jet's ATV, subjecting him to danger at high speeds"],
        choices : [
            ["section57","Fend off the flood while mobile"],
            ["section52","Get off ATV, shoot at the threat"]
        ]
    },
    section52 : {
        text : ["Jet is overwhelmed by the hordes of flood spores and combat forms increasing in population, and is brought down to the hot asphalt and killed\n\n\n\n\n\nAlone."],
    },
    section53 : {
        text : ["'Spartans and generals of the milita of planet Reach... I regret to inform you all that I will not be joining you in the venture to protect the city, for I have good reason to believe that my father, who you know as Master Chief, is alive and out there in the thick of it, and I intend to go on a manhunt to bring him home!'\n\nThe team is quiet, but every soldier shows a sign of solidarity, accepting Jet's departure.\n\nOne man stood up, however\n\nBuck, the Ex-ODST Soldier, sprang up and said, 'I will not let you go alone, soldier, I fought along side your father for years and I won't let his son's life be at risk to find him. I will join you.'\n\nJet agrees and is filled with joy knowing that the chance of his father being alive is there."],
        choices : [
            ["section58","Find a way to avoid flood hordes"],
            ["section66","Take the risk, fight the flood"]
        ]
    },
    section56 : {
        text : ["Choosing to fight back lead to a victory for the spartans, due to the sheer firepower and numbers that the team had developed\n\nThe Scorpion tank bearing the team advances through the city, in search of survivors and caches of flood, spawning in their alien pits.\n\nAfter hours of unrelenting fighting and searching, the team agrees that the city is safe from the invasion, but should stay sharp, in case of future attacks..."],
        choices : [
            ["sectionTeamEnd","Accept victory"]
        ]
    },
    section57 : {
        text : ["Jet and his team retreat from the fight, and accept that the city is inevitably doomed. \n\nThey accept defeat..."],
        choices : [
            ["sectionTeamEnd","Lose the fight..."]
        ]
    },
    section58 : {
        text : ["Jet and buck search for hours until the sun set and the moon rose.\n\nHigh and low...\n\n\nNothing. Nobody..."],
        choices : [
            ["sectionWarthog","Leave the city..."]
        ]
    },
    section66 : {
        text : ["A lack of ammunition and adequate weapons lead to Jet and Buck severely struggling to stay on top of the fight\n\nThen, all of a sudden...\n\nThe sound of a soul leaving a man's body is heard by Jet\n\nAlmost as if it were in slow motion, Jet cranes his neck to witness the heartbreaking execution of Buck, the Ex-ODST soldier, who swore his life to protect him."],
        choices : [
            ["sectionBuck","Mourn"],
            ["sectionBuck","Weep"],
            ["sectionBuck","Regret"]
        ]
    },
    sectionTeamEnd : {
        text : ["The highs and lows of the battle just fought brought a somber and melancholy tone to the spartan team, but they all looked at each other with intent, as to say, without words, that they were happy to be alive and together as a team\n\n\n\nThank you for reading our story\n\n\n\nSincerely,\nTabor Sands and Kyle Raymondo"]
    },
    sectionWarthog : {
        text : ["Jet's hope for finding his lost dad diminished to nothing.\n\nIn somber emotional defeat, both Buck and Jet take this as a sign to give up the mission, and go home after their dangerous venture into the flood populations, with no success in finding Master Chief, the legendary spartan, lost in action..."]
    },
    sectionBuck : {
        text : ["Jet mourns the death of Buck\n\nHe could not protect him\n\nThe flood overtake Jet, but he did not mind, for he had lost all hope..."]
    }





}; 
    let storyContainer = document.getElementById("story");
    storyContainer.innerHTML = "In the far future, on a planet called Reach...";
    let buttonContainer = document.createElement("buttons");
    for(let i = 0; i < 3; i++){
        buttonContainer.innerHTML = story.start.text;
        document.body.appendChild(buttonContainer);
    }
    let storage = ["start"];

let C1 = "Check outside",
    C2 = "Make breakfast",
    C3 = "Go back to sleep",
    C4 = "Find the garage door",
    C5 = "Double check the doors and windows to make sure they are locked",
    C6 = "Find something to patch up the wound",
    C7 = "Hold the wound",
    C8 = "Stay on the ground in pain",
    C9 = "Find somewhere to hide",
    C10 = "Run outside",
    C11 = "Enter '117'",
    C12 = "Enter '255'",
    C13 = "Enter '343'",
    C14 = "Call for help with the handheld radio",
    C15 = "Fight back",
    C16 = "Check for armor",
    C17 = "Explore under large gray tarp",
    C18 = "Suit up in better armor and grab weapons",
    C19 = "Decide to search for father, John",
    C20 = "Join spartan team in the tank",
    C21 = "Take Mongoose ATV, alone",
    C22 = "Tell team you are leaving",
    C23 = "Don't tell team you are leaving",
    C24 = "Hold your ground, fight back",
    C25 = "Run away",
    C26 = "Keep driving",
    C27 = "Stop and fight the horde",
    C28 = "Run with Buck around the horde",
    C29 = "Fight the horde head on with Buck",
    C30 = "Search for survivors"
    C31 = "Mourn the dead",
    C32 = "Rejoin team",
    C33 = "Go home alone"                     
    


function makeButton(btnText, choice){
    let button = document.createElement("button");

    button.innerHTML = btnText;

    buttonContainer.appendChild(button);

    button.addEventListener("click", function(){
        storage.push(choice);
        printStory();
    });
}

function printStory(text) {
    let pageNow = storage[storage.length - 1];
    storyContainer.innerHTML = "";
    buttonContainer.innerHTML = "";
    for(let page of storage){
        createStory(story[page].text);
    }
    for (let choice of story[pageNow].choices){
    makeButton(choice[1], choice[0])
    }
}
function createStory(text){
    let storyItem = document.createElement("p");

    storyItem.innerText = text;

    storyContainer.appendChild(storyItem);
}

printStory(story.start.text);


</script>

</body>
</html>